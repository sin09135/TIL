# 웹 개발 기본 지식

> with Python



## 01. 인터넷 네트워크

- 인터넷 통신
- IP(인터넷 프로토콜)
- TCP , UDP
- PORT
- DNS 도메인 네임 시스템

### 1) 인터넷 통신

| 클라이언트 | 서버 |
| :--------: | :--: |
|    요청    | 응답 |

- 인터넷은 요청과 응답으로 이루어져 있다.

- 복잡한 요청 응답 방식



### 2) IP

> 인터넷의 복잡한 요청 응답 방식으로 인해 집 주소와 같은 개념 도입

|  클라이언트  |     서버     |
| :----------: | :----------: |
|     요청     |     응답     |
| IP : 1.1.1.1 | IP : 2.2.2.2 |

- IP 패킷 정보 
  - 전송 데이터 등을 패킷으로 전달(택배 박스 같은 개념)

- 클라이언트에서 패킷 전달

|  클라이언트  | 허브 |     서버     |
| :----------: | :--: | :----------: |
|     요청     |      |     응답     |
| IP : 1.1.1.1 |      | IP : 2.2.2.2 |

- 서버에서 패킷 전달

  - 서버가 허브를 통해서 응답

- IP 프로토콜의 한계 = **배송사고**

  - 비연결성 : 패킷을 받을 대상이 없음, 불능상태여도 전송
  - 비신뢰성 : 순서대로 패킷 전달 x, 패킷 유실
  - 프로그램의 구분 : ip 사용 사용하는 애플리케이션이 둘 이상이면 문제

  

### 3) 인터넷 프로토콜 스택의 4계층

> 로그 추출이 가능하게 됨

| 애플리케이션 계층        | HTTP, FTP       | 웹브라우저                    |
| ------------------------ | --------------- | ----------------------------- |
| 전송 계층                | TCP,UDP         | TCP 프로토콜, UDP 프로토콜    |
| 인터넷 계층              | IP              | IP 패킷 생성, TCP 데이터 포함 |
| 네트워크 인터페이스 계층 | 인터페이스 계층 | LAN 드라이버, LAN 장비        |



- TCP 3 way handshake (Transmission Control Protocol )

  **요청을 수락**하는 개념

  - SYN : 접속 요청
  - **ACK : 요청 수락**
  - ACK와 함께 데이터 전송

- 사용자 데이터그램 프로토콜(UDP : User Datagram Protocol)
  - 연결지향 없음
  - 데이터 전달 보증 없음
  - 순서 보장 없음

​                                                                                                                                                                                                                                 

### 4) PORT

> 클라이언트가 여려개 연결 해야 함 > **포트 번호 부여**
>
> IP주소는 같지만, 포트번호가 다름
>
> 설치하면 포트번호가 자동으로 부여됨, 확인 필요

- 클라이언트
  - 개발서버 - 서버 IP : 2.2.2.2
  - 게임 - 서버 IP : 2.2.2.3
  - 강의 - 서버 IP : 2.2.2.4



- 포트번호 부여

  - 0 ~ 65535 : 할당 가능

  - 0 ~ 1023 : 잘 알려진 포트, 사용하지 않는 것이 좋음

    - FTP - 20,21
    - TELNET - 23
    - HTTP - 80
    - HTTPS - 443

    

### 5) 도메인 네임 시스템(Domain Name System)

> IP 주소를 기억할 수 없으니, 도메인 명으로 기억

- 전화번호부
- 도메인 명을 IP 주소로 변환



> 예시

| 도메인 명 |      IP       |
| :-------: | :-----------: |
| naver.com | 200.200.210.2 |



## 02. URI와 웹 브라우저 요청 흐름

- URl(Uniform Resource Identifier) 

  - **웹 크롤링에 자주 사용됨**

  ![](/Users/kimsinwoo/Library/Mobile Documents/com~apple~Preview/Documents/URI.png)

- URL(Uniform Resource Location)
  - Locator : 리소스가 있는 쿼리를 지정
- URN(Uniform Resource Name)
  - Name 에 리소스를 부여



#### URL 표준 문법

- 일반 주소창 Https://www.bookk.co.kr

- 포트 번호로 입력 Https://121.254.219.95:443

  

  예시) https :// 121.254.219.95:443/search?keyword = Streamlit

  - 프로토콜(https)
  - 호스트명(www.google.com)
  - 포트번호(443)
  - 패스(/search)
  - 퀴리파라미터(keyword = Streamlit) >  딕셔너리 형태로 저장해서 넘김
  - 리스트 경로(path)
  - 계층적 구조



### URL Quary

- ket = value 형태, Query Parameter 등으로 불림
- 딕셔너리 형태로 저장
- ? 로 시작, & 추가 가능
  - ?keyA = valueA&keyB=valueB&keyword=Streamit



### HTTP

> Hyper Text Transfer Protocol

- HTTP 메시지에 모든 것을 전송
  - HTML,TEXT
  - IMAGE, 음성, 영상, 파일
  - JSON, XML(API)
  - 거의 모든 형태의 데이터 전송 가능
  - 서버 간에 데이터를 주고 받을 때도 대부분 HTTP 사용



#### 01) 주요 특징

- 클라이언트 서버 구조
  - 과거 : 네트워크 망 분리되어 있어, USB 같은 구조로 전달
  - 현재 : API 를 통해서 데이터를 주고 받는다는 개념
- 무상태 프로토콜(stateless), 비연결성
  - 스테이스리스를 기억
    - 같은 시간에 맞추어 발생하는 대용량 트래픽
- HTTP 메시지
- 단순함, 확장 가능



#### 2) 시작 라인(응답메시지)

- HTTP 버전
- HTTP **상태코드** : 요청 성공, 실패를 나타냄
  - 200 : 성공
  - 400 : 클라이언트 요청 오류
  - 500 : 서버 내부 오류



#### 3) HTTP 메서드

- HTTP API 만들기
  - HTTP 메서드 - GET, POST(두 가지 차이 기억)
  - HTTP 메서드 - PUT, PATCH, DELETE
  - HTTP 메서드 - 



- API URI 설계(리소스 식별, **URI 계층구조** 활용)

  - 회원 목록 조회 /members
  - 회원 조회 / members/{id}

  

- 리소스와 행위를 분리

  - URI 는 리소스만 식별
  - 리소스와 해당 리소스를 대상으로 하는 행위 분리
    - 리소스 : 회원
    - 행위 : 조회, 등록, 삭제, 변경
  - 리소스는 명사, 행위는 덩사
  - 행위(메서드)는 어떻게 구분할까
    - GET, POST



- **HTTP 주요 메서드**

  - **GET** :  리소스 조회(클릭, 검색 등) -- URI 변경 o

    - 리소스 조회

    - 서버에 전달하고 싶은 데이터는 query(쿼리 파라미터, 쿼리 스트링)를 통해서 전달

    - 메시지 바디를 사용해서 데이터를 전달할 수 있지만, 지원하지 않는 곳이 많아서 권장하지 않음

      

  - **POST** : 요청 데이터 처리, 주로 등록에 사용 -- URI 변경 x

    - 요청 데이터 처리
      - 예시) POST/orders/{orderID}/start-delivery (컨트롤 URI)
      - 다른 메서드로 처리하기 애매한 경우
        - JSON 으로 조회 데이터를 넘겨야 하는데, GET 메서드를 사용하기 여러운 경우
    - 메시지 바디를 통해 서버로 요청 데이터 전달
      - 예시) HTML FORM 에 입력된 정보로 회원 가입, 주문 등에서 사용
      - 게시판 글쓰기, 댓글 달기
      - 신규주문 생성



#### 4) HTTP 상태 코드

- 1xx (informational) : 요청이 수신되어 처리중

- **2xx (Successful)** : 요청 정상 처리
- 3xx (Redirection) : 요청을 완료하려면 추가 행동이 필요
- **4xx (Client Error)** : 클라이언트 오류, 잘못된 문법 등으로 서버가 요청 수행 불가
- **5xx (Server Error)** : 서버 오류, 서버가 정상 요청을 처리하지 못함